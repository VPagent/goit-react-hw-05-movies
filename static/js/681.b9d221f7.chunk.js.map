{"version":3,"file":"static/js/681.b9d221f7.chunk.js","mappings":"2TAEMA,EAAc,mCACPC,EAAe,mCAAG,6FACrBC,EADqB,kEAC6CF,GAD7C,kBAGAG,IAAAA,IAAUD,GAHV,cAGjBE,EAHiB,yBAIhBA,EAASC,KAAKC,SAJE,gCAKpBC,QAAQC,IAAI,SALQ,yDAAH,qDAQfC,EAAc,mCAAG,WAAOC,GAAP,gFACpBR,EADoB,4DACwCF,EADxC,iCAC4EU,EAD5E,iDAGCP,IAAAA,IAAUD,GAHX,cAGhBE,EAHgB,yBAIfA,EAASC,KAAKC,SAJC,gCAKnBC,QAAQC,IAAI,SALO,yDAAH,sDAQdG,EAAW,mCAAG,WAAOC,GAAP,gFACjBV,EADiB,6CAC4BU,EAD5B,oBAC0CZ,EAD1C,qCAGIG,IAAAA,IAAUD,GAHd,cAGbE,EAHa,yBAIZA,EAASC,MAJG,gCAKhBE,QAAQC,IAAI,SALI,yDAAH,sDAQXK,EAAS,mCAAG,WAAOD,GAAP,gFACfV,EADe,6CAC8BU,EAD9B,4BACoDZ,EADpD,qCAGMG,IAAAA,IAAUD,GAHhB,cAGXE,EAHW,yBAIVA,EAASC,KAAKS,MAJJ,gCAKdP,QAAQC,IAAI,SALE,yDAAH,sDAQTO,EAAY,mCAAG,WAAOH,GAAP,gFAClBV,EADkB,6CAC2BU,EAD3B,4BACiDZ,EADjD,4CAGGG,IAAAA,IAAUD,GAHb,cAGdE,EAHc,OAIpBG,QAAQC,IAAIJ,EAASC,KAAKC,SAJN,kBAKbF,EAASC,KAAKC,SALD,gCAMjBC,QAAQC,IAAI,SANK,yDAAH,qD,wHClCzB,EAA0B,6BAA1B,EAAkE,8BAAlE,EAA0G,6BAA1G,EAAqJ,iCAArJ,EAA6L,0B,SC4D7L,EAlDoB,WAAO,IAAD,EACxB,GAAsCQ,EAAAA,EAAAA,UAAS,CAAC,GAAhD,eAAOC,EAAP,KAAoBC,EAApB,KACQC,GAAWC,EAAAA,EAAAA,MAAXD,OACFE,GAAWC,EAAAA,EAAAA,MAOjB,IANAC,EAAAA,EAAAA,YAAU,WACHJ,IAGLR,EAAAA,EAAAA,IAAYQ,GAAQK,KAAKN,EAC1B,GAAE,CAACC,IACCF,EAAL,CAGA,IAAQQ,EAAqER,EAArEQ,MAAOC,EAA8DT,EAA9DS,YAAaC,EAAiDV,EAAjDU,OAAQC,EAAyCX,EAAzCW,SAAUC,EAA+BZ,EAA/BY,aAAcC,EAAiBb,EAAjBa,aACtDC,EAAM,yCAAqCL,GAC3CM,EAAQC,KAAKC,MAAqB,GAAfL,GACnBM,EAAaR,EAASA,EAAOS,KAAI,SAAAC,GAAI,OAAIA,EAAKC,IAAT,IAAeC,KAAK,KAAO,GAChEC,GAAa,UAAAnB,EAASoB,aAAT,eAAgBC,OAAhB,IACnB,OACE,iBAAKC,UAAWC,EAAhB,WACE,SAAC,KAAD,CAAMC,GAAIL,EAAYG,UAAWC,EAAjC,wBACA,iBAAKD,UAAWC,EAAhB,WACE,gBAAKE,IAAKf,EAAQgB,IAAKtB,EAAOuB,MAAM,SACpC,iBAAKL,UAAWC,EAAhB,WACE,yBACE,iCAAOnB,EAAP,aAAiBK,EAAjB,UAEF,wCAAcE,EAAd,QACA,sCACA,uBAAIJ,KACJ,oCACA,uBAAIO,WAGR,4BACE,wBACE,qDAEF,SAAC,KAAD,CAASU,GAAE,kBAAa1B,EAAb,SAA4B8B,KAAG,EAACR,MAAOpB,EAASoB,MAAME,UAAWC,EAA5E,mBAGA,SAAC,KAAD,CAASC,GAAE,kBAAa1B,EAAb,YAA+B8B,KAAG,EAACR,MAAOpB,EAASoB,MAAOE,UAAWC,EAAhF,yBAIF,SAAC,KAAD,MAjCH,CAoCF,C","sources":["components/services/API.jsx","webpack://react-homework-template/./src/pages/OneFilmPage/oneFilmPage.module.scss?6857","pages/OneFilmPage/OneFilmPage.jsx"],"sourcesContent":["import axios from 'axios'\n\nconst PRIVATE_KEY = \"19058b9145b7ba2d69dc054625243cc3\"\nexport const fetchTrendFimls = async () => {\n    const link = `https://api.themoviedb.org/3/trending/movie/day?api_key=${PRIVATE_KEY}`\n    try{\n        const response = await axios.get(link)\n        return response.data.results\n    }catch{console.log(\"Error\")}\n}   \n\nexport const fetchQueryFilm = async (value) => {\n    const link = `https://api.themoviedb.org/3/search/movie?api_key=${PRIVATE_KEY}&language=en-US&query=${value}&page=1&include_adult=false`\n    try{\n        const response = await axios.get(link)\n        return response.data.results\n    }catch{console.log(\"Error\")}\n}\n\nexport const fetchFilmId = async (id) => {\n    const link = `https://api.themoviedb.org/3/movie/${id}?api_key=${PRIVATE_KEY}&language=en-US`\n    try{\n        const response = await axios.get(link)\n        return response.data\n    }catch{console.log(\"Error\")}\n}\n\nexport const fetchCast = async (id) => {\n    const link = `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${PRIVATE_KEY}&language=en-US`\n    try{\n        const response = await axios.get(link)\n        return response.data.cast\n    }catch{console.log(\"Error\")}\n}\n\nexport const fetchReviews = async (id) => {\n    const link = `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${PRIVATE_KEY}&language=en-US&page=1`\n    try{\n        const response = await axios.get(link)\n        console.log(response.data.results)\n        return response.data.results\n    }catch{console.log(\"Error\")}\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"oneFilmPage_wrapper__+Fpe5\",\"filmCard\":\"oneFilmPage_filmCard__Tyftd\",\"backBtn\":\"oneFilmPage_backBtn__K6UIO\",\"textWrapper\":\"oneFilmPage_textWrapper__BNr-m\",\"link\":\"oneFilmPage_link__lqdBO\"};","import { fetchFilmId } from 'components/services/API';\nimport { useEffect, useState } from 'react';\nimport {\n  useParams,\n  NavLink,\n  Outlet,\n  useLocation,\n  Link,\n} from 'react-router-dom';\nimport s from '../OneFilmPage/oneFilmPage.module.scss';\n\nconst OneFilmPage = () => {\n  const [currentFilm, setCurrentFilm] = useState({});\n  const { filmId } = useParams();\n  const location = useLocation();\n  useEffect(() => {\n    if (!filmId) {\n      return;\n    }\n    fetchFilmId(filmId).then(setCurrentFilm);\n  }, [filmId]);\n  if (!currentFilm) {\n    return;\n  }\n  const { title, poster_path, genres, overview, vote_average, release_date } = currentFilm;\n  const poster = `https://image.tmdb.org/t/p/w500${poster_path}`;\n  const score = Math.floor(vote_average * 10);\n  const genresItem = genres ? genres.map(elem => elem.name).join(' ') : '';\n  const pathToBack = location.state?.prev || `/`;\n  return (\n    <div className={s.wrapper}>\n      <Link to={pathToBack} className={s.backBtn}> go back </Link>\n      <div className={s.filmCard}>\n        <img src={poster} alt={title} width=\"300\" />\n        <div className={s.textWrapper}>\n          <h2>\n            <b>{`${title} (${release_date})`}</b>\n          </h2>\n          <p>{`score: ${score}%`}</p>\n          <h3>Overview</h3>\n          <p>{overview}</p>\n          <h4>Genres</h4>\n          <p>{genresItem}</p>\n        </div>\n      </div>\n      <div>\n        <p>\n          <b>Additional information</b>\n        </p>\n        <NavLink to={`/movies/${filmId}/cast`} end state={location.state}className={s.link}>\n          Cast\n        </NavLink>\n        <NavLink to={`/movies/${filmId}/reviews`} end state={location.state} className={s.link}>\n          Reviews\n        </NavLink>\n      </div>\n      <Outlet />\n    </div>\n  );\n};\n\nexport default OneFilmPage;\n"],"names":["PRIVATE_KEY","fetchTrendFimls","link","axios","response","data","results","console","log","fetchQueryFilm","value","fetchFilmId","id","fetchCast","cast","fetchReviews","useState","currentFilm","setCurrentFilm","filmId","useParams","location","useLocation","useEffect","then","title","poster_path","genres","overview","vote_average","release_date","poster","score","Math","floor","genresItem","map","elem","name","join","pathToBack","state","prev","className","s","to","src","alt","width","end"],"sourceRoot":""}