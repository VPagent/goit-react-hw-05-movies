{"version":3,"file":"static/js/681.8370889e.chunk.js","mappings":"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","sources":["components/services/API.jsx","webpack://react-homework-template/./src/pages/OneFilmPage/oneFilmPage.module.scss?6857","pages/OneFilmPage/OneFilmPage.jsx"],"sourcesContent":["import axios from 'axios'\n\nconst PRIVATE_KEY = \"19058b9145b7ba2d69dc054625243cc3\"\nexport const fetchTrendFimls = async () => {\n    const link = `https://api.themoviedb.org/3/trending/movie/day?api_key=${PRIVATE_KEY}`\n    try{\n        const response = await axios.get(link)\n        return response.data.results\n    }catch{console.log(\"Error\")}\n}   \n\nexport const fetchQueryFilm = async (value) => {\n    const link = `https://api.themoviedb.org/3/search/movie?api_key=${PRIVATE_KEY}&language=en-US&query=${value}&page=1&include_adult=false`\n    try{\n        const response = await axios.get(link)\n        return response.data.results\n    }catch{console.log(\"Error\")}\n}\n\nexport const fetchFilmId = async (id) => {\n    const link = `https://api.themoviedb.org/3/movie/${id}?api_key=${PRIVATE_KEY}&language=en-US`\n    try{\n        const response = await axios.get(link)\n        return response.data\n    }catch{console.log(\"Error\")}\n}\n\nexport const fetchCast = async (id) => {\n    const link = `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${PRIVATE_KEY}&language=en-US`\n    try{\n        const response = await axios.get(link)\n        return response.data.cast\n    }catch{console.log(\"Error\")}\n}\n\nexport const fetchReviews = async (id) => {\n    const link = `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${PRIVATE_KEY}&language=en-US&page=1`\n    try{\n        const response = await axios.get(link)\n        return response.data.results\n    }catch{console.log(\"Error\")}\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"oneFilmPage_wrapper__+Fpe5\",\"filmCard\":\"oneFilmPage_filmCard__Tyftd\",\"backBtn\":\"oneFilmPage_backBtn__K6UIO\",\"textWrapper\":\"oneFilmPage_textWrapper__BNr-m\",\"link\":\"oneFilmPage_link__lqdBO\",\"active\":\"oneFilmPage_active__jFclh\"};","import { Suspense} from 'react'\nimport { fetchFilmId } from 'components/services/API';\nimport { useEffect, useState } from 'react';\nimport {\n  useParams,\n  NavLink,\n  Outlet,\n  useLocation,\n  Link,\n} from 'react-router-dom';\nimport s from '../OneFilmPage/oneFilmPage.module.scss';\nimport { Oval } from 'react-loader-spinner';\n\nconst OneFilmPage = () => {\n  const [currentFilm, setCurrentFilm] = useState({});\n  const { filmId } = useParams();\n  const location = useLocation();\n  useEffect(() => {\n    if (!filmId) {\n      return;\n    }\n    fetchFilmId(filmId).then(setCurrentFilm);\n  }, [filmId]);\n  if (!currentFilm) {\n    return;\n  }\n  const getActiveClassName = ({ isActive }) => {\n    return isActive ? `${s.link} ${s.active}` : s.link;\n  };\n  const { title, poster_path, genres, overview, vote_average, release_date } = currentFilm;\n  const poster = `https://image.tmdb.org/t/p/w500${poster_path}`;\n  const score = Math.floor(vote_average * 10);\n  const genresItem = genres ? genres.map(elem => elem.name).join(' ') : '';\n  const pathToBack = location.state?.prev || `/`;\n  const year = release_date ? release_date.slice(0, 4) : \"year\" ;\n  return (\n    <div className={s.wrapper}>\n      <Link to={pathToBack} className={s.backBtn}> go back </Link>\n      <div className={s.filmCard}>\n        <img src={poster} alt={title} width=\"300\" />\n        <div className={s.textWrapper}>\n          <h2>\n            <b>{`${title} (${year})`}</b>\n          </h2>\n          <p>{`score: ${score}%`}</p>\n          <h3>Overview</h3>\n          <p>{overview}</p>\n          <h4>Genres</h4>\n          <p>{genresItem}</p>\n        </div>\n      </div>\n      <div>\n        <p>\n          <b>Additional information</b>\n        </p>\n        <NavLink to={`/movies/${filmId}/cast`} end state={location.state}className={getActiveClassName}>\n          Cast\n        </NavLink>\n        <NavLink to={`/movies/${filmId}/reviews`} end state={location.state} className={getActiveClassName}>\n          Reviews\n        </NavLink>\n      </div>\n      <Suspense fallback={<Oval />}>\n      <Outlet />\n      </Suspense>\n    </div>\n  );\n};\n\nexport default OneFilmPage;\n"],"names":["PRIVATE_KEY","fetchTrendFimls","link","axios","response","data","results","console","log","fetchQueryFilm","value","fetchFilmId","id","fetchCast","cast","fetchReviews","useState","currentFilm","setCurrentFilm","filmId","useParams","location","useLocation","useEffect","then","getActiveClassName","isActive","s","title","poster_path","genres","overview","vote_average","release_date","poster","score","Math","floor","genresItem","map","elem","name","join","pathToBack","state","prev","year","slice","className","to","src","alt","width","end","Suspense","fallback"],"sourceRoot":""}